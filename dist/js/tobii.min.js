/**
 * tobii 2.0.0-beta 
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Tobii=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u={f:c&&!a.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:a},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},s={}.toString,d=function(e){return s.call(e).slice(8,-1)},f="".split,p=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==d(e)?f.call(e,""):Object(e)}:Object,h=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return p(h(e))},v=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=function(e,t){if(!v(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!v(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,y=function(e,t){return m.call(e,t)},w=r.document,x=v(w)&&v(w.createElement),E=!o&&!i((function(){return 7!=Object.defineProperty((e="div",x?w.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),A=Object.getOwnPropertyDescriptor,L={f:o?A:function(e,t){if(e=b(e),t=g(t,!0),E)try{return A(e,t)}catch(e){}if(y(e,t))return l(!u.f.call(e,t),e[t])}},S=function(e){if(!v(e))throw TypeError(String(e)+" is not an object");return e},O=Object.defineProperty,_={f:o?O:function(e,t,n){if(S(e),t=g(t,!0),S(n),E)try{return O(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},C=o?function(e,t,n){return _.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},I=function(e,t){try{C(r,e,t)}catch(n){r[e]=t}return t},T=r["__core-js_shared__"]||I("__core-js_shared__",{}),P=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(e){return P.call(e)});var j,k,M,N,R=T.inspectSource,D=r.WeakMap,U="function"==typeof D&&/native code/.test(R(D)),q=t((function(e){(e.exports=function(e,t){return T[e]||(T[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),Y=0,X=Math.random(),z=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Y+X).toString(36)},V=q("keys"),H={},B=r.WeakMap;if(U){var G=new B,F=G.get,$=G.has,K=G.set;j=function(e,t){return K.call(G,e,t),t},k=function(e){return F.call(G,e)||{}},M=function(e){return $.call(G,e)}}else{var W=V[N="state"]||(V[N]=z(N));H[W]=!0,j=function(e,t){return C(e,W,t),t},k=function(e){return y(e,W)?e[W]:{}},M=function(e){return y(e,W)}}var J,Q,Z={set:j,get:k,has:M,enforce:function(e){return M(e)?k(e):j(e,{})},getterFor:function(e){return function(t){var n;if(!v(t)||(n=k(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=t((function(e){var t=Z.get,n=Z.enforce,i=String(String).split("String");(e.exports=function(e,t,o,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||y(o,"name")||C(o,"name",t),n(o).source=i.join("string"==typeof t?t:"")),e!==r?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=o:C(e,t,o)):u?e[t]=o:I(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||R(this)}))})),te=r,ne=function(e){return"function"==typeof e?e:void 0},re=function(e,t){return arguments.length<2?ne(te[e])||ne(r[e]):te[e]&&te[e][t]||r[e]&&r[e][t]},ie=Math.ceil,oe=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?oe:ie)(e)},ce=Math.min,ue=function(e){return e>0?ce(ae(e),9007199254740991):0},le=Math.max,se=Math.min,de=function(e,t){var n=ae(e);return n<0?le(n+t,0):se(n,t)},fe=function(e){return function(t,n,r){var i,o=b(t),a=ue(o.length),c=de(r,a);if(e&&n!=n){for(;a>c;)if((i=o[c++])!=i)return!0}else for(;a>c;c++)if((e||c in o)&&o[c]===n)return e||c||0;return!e&&-1}},pe={includes:fe(!0),indexOf:fe(!1)},he=pe.indexOf,be=function(e,t){var n,r=b(e),i=0,o=[];for(n in r)!y(H,n)&&y(r,n)&&o.push(n);for(;t.length>i;)y(r,n=t[i++])&&(~he(o,n)||o.push(n));return o},ve=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=ve.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return be(e,ge)}},ye={f:Object.getOwnPropertySymbols},we=re("Reflect","ownKeys")||function(e){var t=me.f(S(e)),n=ye.f;return n?t.concat(n(e)):t},xe=function(e,t){for(var n=we(t),r=_.f,i=L.f,o=0;o<n.length;o++){var a=n[o];y(e,a)||r(e,a,i(t,a))}},Ee=/#|\.prototype\./,Ae=function(e,t){var n=Se[Le(e)];return n==_e||n!=Oe&&("function"==typeof t?i(t):!!t)},Le=Ae.normalize=function(e){return String(e).replace(Ee,".").toLowerCase()},Se=Ae.data={},Oe=Ae.NATIVE="N",_e=Ae.POLYFILL="P",Ce=Ae,Ie=L.f,Te=function(e,t){var n,i,o,a,c,u=e.target,l=e.global,s=e.stat;if(n=l?r:s?r[u]||I(u,{}):(r[u]||{}).prototype)for(i in t){if(a=t[i],o=e.noTargetGet?(c=Ie(n,i))&&c.value:n[i],!Ce(l?i:u+(s?".":"#")+i,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;xe(a,o)}(e.sham||o&&o.sham)&&C(a,"sham",!0),ee(n,i,a,e)}},Pe=Array.isArray||function(e){return"Array"==d(e)},je=function(e){return Object(h(e))},ke=function(e,t,n){var r=g(t);r in e?_.f(e,r,l(0,n)):e[r]=n},Me=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Ne=Me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=q("wks"),De=r.Symbol,Ue=Ne?De:De&&De.withoutSetter||z,qe=function(e){return y(Re,e)||(Me&&y(De,e)?Re[e]=De[e]:Re[e]=Ue("Symbol."+e)),Re[e]},Ye=qe("species"),Xe=function(e,t){var n;return Pe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Pe(n.prototype)?v(n)&&null===(n=n[Ye])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},ze=re("navigator","userAgent")||"",Ve=r.process,He=Ve&&Ve.versions,Be=He&&He.v8;Be?Q=(J=Be.split("."))[0]+J[1]:ze&&(!(J=ze.match(/Edge\/(\d+)/))||J[1]>=74)&&(J=ze.match(/Chrome\/(\d+)/))&&(Q=J[1]);var Ge=Q&&+Q,Fe=qe("species"),$e=function(e){return Ge>=51||!i((function(){var t=[];return(t.constructor={})[Fe]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ke=qe("isConcatSpreadable"),We=Ge>=51||!i((function(){var e=[];return e[Ke]=!1,e.concat()[0]!==e})),Je=$e("concat"),Qe=function(e){if(!v(e))return!1;var t=e[Ke];return void 0!==t?!!t:Pe(e)};Te({target:"Array",proto:!0,forced:!We||!Je},{concat:function(e){var t,n,r,i,o,a=je(this),c=Xe(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(Qe(o=-1===t?a:arguments[t])){if(u+(i=ue(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&ke(c,u,o[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ke(c,u++,o)}return c.length=u,c}});var Ze=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},et=[].push,tt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(c,u,l,s){for(var d,f,h=je(c),b=p(h),v=Ze(u,l,3),g=ue(b.length),m=0,y=s||Xe,w=t?y(c,g):n?y(c,0):void 0;g>m;m++)if((a||m in b)&&(f=v(d=b[m],m,h),e))if(t)w[m]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:et.call(w,d)}else if(i)return!1;return o?-1:r||i?i:w}},nt={forEach:tt(0),map:tt(1),filter:tt(2),some:tt(3),every:tt(4),find:tt(5),findIndex:tt(6)},rt=Object.defineProperty,it={},ot=function(e){throw e},at=function(e,t){if(y(it,e))return it[e];t||(t={});var n=[][e],r=!!y(t,"ACCESSORS")&&t.ACCESSORS,a=y(t,0)?t[0]:ot,c=y(t,1)?t[1]:void 0;return it[e]=!!n&&!i((function(){if(r&&!o)return!0;var e={length:-1};r?rt(e,1,{enumerable:!0,get:ot}):e[1]=1,n.call(e,a,c)}))},ct=nt.filter,ut=$e("filter"),lt=at("filter");Te({target:"Array",proto:!0,forced:!ut||!lt},{filter:function(e){return ct(this,e,arguments.length>1?arguments[1]:void 0)}});var st=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))},dt=nt.forEach,ft=st("forEach"),pt=at("forEach"),ht=ft&&pt?[].forEach:function(e){return dt(this,e,arguments.length>1?arguments[1]:void 0)};Te({target:"Array",proto:!0,forced:[].forEach!=ht},{forEach:ht});var bt=pe.indexOf,vt=[].indexOf,gt=!!vt&&1/[1].indexOf(1,-0)<0,mt=st("indexOf"),yt=at("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:gt||!mt||!yt},{indexOf:function(e){return gt?vt.apply(this,arguments)||0:bt(this,e,arguments.length>1?arguments[1]:void 0)}});var wt=[].join,xt=p!=Object,Et=st("join",",");Te({target:"Array",proto:!0,forced:xt||!Et},{join:function(e){return wt.call(b(this),void 0===e?",":e)}});var At=$e("slice"),Lt=at("slice",{ACCESSORS:!0,0:0,1:2}),St=qe("species"),Ot=[].slice,_t=Math.max;Te({target:"Array",proto:!0,forced:!At||!Lt},{slice:function(e,t){var n,r,i,o=b(this),a=ue(o.length),c=de(e,a),u=de(void 0===t?a:t,a);if(Pe(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Pe(n.prototype)?v(n)&&null===(n=n[St])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ot.call(o,c,u);for(r=new(void 0===n?Array:n)(_t(u-c,0)),i=0;c<u;c++,i++)c in o&&ke(r,i,o[c]);return r.length=i,r}});var Ct=Object.keys||function(e){return be(e,ve)},It=u.f,Tt=function(e){return function(t){for(var n,r=b(t),i=Ct(r),a=i.length,c=0,u=[];a>c;)n=i[c++],o&&!It.call(r,n)||u.push(e?[n,r[n]]:r[n]);return u}},Pt={entries:Tt(!0),values:Tt(!1)}.entries;Te({target:"Object",stat:!0},{entries:function(e){return Pt(e)}});var jt=function(){var e=S(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function kt(e,t){return RegExp(e,t)}var Mt,Nt,Rt={UNSUPPORTED_Y:i((function(){var e=kt("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:i((function(){var e=kt("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Dt=RegExp.prototype.exec,Ut=String.prototype.replace,qt=Dt,Yt=(Mt=/a/,Nt=/b*/g,Dt.call(Mt,"a"),Dt.call(Nt,"a"),0!==Mt.lastIndex||0!==Nt.lastIndex),Xt=Rt.UNSUPPORTED_Y||Rt.BROKEN_CARET,zt=void 0!==/()??/.exec("")[1];(Yt||zt||Xt)&&(qt=function(e){var t,n,r,i,o=this,a=Xt&&o.sticky,c=jt.call(o),u=o.source,l=0,s=e;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),s=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(u="(?: "+u+")",s=" "+s,l++),n=new RegExp("^(?:"+u+")",c)),zt&&(n=new RegExp("^"+u+"$(?!\\s)",c)),Yt&&(t=o.lastIndex),r=Dt.call(a?n:o,s),a?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Yt&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),zt&&r&&r.length>1&&Ut.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Vt=qt;Te({target:"RegExp",proto:!0,forced:/./.exec!==Vt},{exec:Vt});var Ht=qe("species"),Bt=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Gt="$0"==="a".replace(/./,"$0"),Ft=qe("replace"),$t=!!/./[Ft]&&""===/./[Ft]("a","$0"),Kt=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Wt=function(e){return function(t,n){var r,i,o=String(h(t)),a=ae(n),c=o.length;return a<0||a>=c?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===c||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Jt={codeAt:Wt(!1),charAt:Wt(!0)}.charAt,Qt=function(e,t,n){return t+(n?Jt(e,t).length:1)},Zt=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(e))throw TypeError("RegExp#exec called on incompatible receiver");return Vt.call(e,t)};!function(e,t,n,r){var o=qe(e),a=!i((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),c=a&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Ht]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!a||!c||"replace"===e&&(!Bt||!Gt||$t)||"split"===e&&!Kt){var u=/./[o],l=n(o,""[e],(function(e,t,n,r,i){return t.exec===Vt?a&&!i?{done:!0,value:u.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Gt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:$t}),s=l[0],d=l[1];ee(String.prototype,e,s),ee(RegExp.prototype,o,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}r&&C(RegExp.prototype[o],"sham",!0)}("match",1,(function(e,t,n){return[function(t){var n=h(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=S(e),o=String(this);if(!i.global)return Zt(i,o);var a=i.unicode;i.lastIndex=0;for(var c,u=[],l=0;null!==(c=Zt(i,o));){var s=String(c[0]);u[l]=s,""===s&&(i.lastIndex=Qt(o,ue(i.lastIndex),a)),l++}return 0===l?null:u}]}));for(var en in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var tn=r[en],nn=tn&&tn.prototype;if(nn&&nn.forEach!==ht)try{C(nn,"forEach",ht)}catch(e){nn.forEach=ht}}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}if("function"!=typeof window.CustomEvent){var cn=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};cn.prototype=window.Event.prototype,window.CustomEvent=cn}return function e(t){var n=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],r=[],i={gallery:[],slider:null,sliderElements:[],elementsLength:0,currentIndex:0,x:0},o=[],a={},c=0,u=null,l=null,s=null,d=null,f=null,p={},h=!1,b=!1,v=!1,g=null,m=null,y=null,w=!1,x=!1,E=0,A={},L=null,S=null,O={image:{checkSupport:function(e){return!e.hasAttribute("data-type")&&e.href.match(/\.(png|jpe?g|tiff|tif|gif|bmp|webp|avif|svg|ico)(\?.*)?$/i)},init:function(e,t){var n=document.createElement("figure"),r=document.createElement("figcaption"),i=document.createElement("img"),o=e.querySelector("img"),u=document.createElement("div");n.style.opacity="0",o&&(i.alt=o.alt||""),i.setAttribute("src",""),i.setAttribute("data-src",e.href),n.appendChild(i),a.captions&&("function"==typeof a.captionText?r.textContent=a.captionText(e):"self"===a.captionsSelector&&e.getAttribute(a.captionAttribute)?r.textContent=e.getAttribute(a.captionAttribute):"img"===a.captionsSelector&&o&&o.getAttribute(a.captionAttribute)&&(r.textContent=o.getAttribute(a.captionAttribute)),r.textContent&&(r.id="tobii-figcaption-".concat(c),n.appendChild(r),i.setAttribute("aria-labelledby",r.id),++c)),t.appendChild(n),u.className="tobii__loader",u.setAttribute("role","progressbar"),u.setAttribute("aria-label",a.loadingIndicatorLabel),t.appendChild(u),t.setAttribute("data-type","image")},onPreload:function(e){O.image.onLoad(e)},onLoad:function(e){var t=e.querySelector("img");if(t.hasAttribute("data-src")){var n=e.querySelector("figure"),r=e.querySelector(".tobii__loader");t.onload=function(){e.removeChild(r),n.style.opacity="1"},t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")}},onLeave:function(e){},onCleanup:function(e){}},html:{checkSupport:function(e){return oe(e,"html")},init:function(e,t){var n=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target"),r=document.querySelector(n);if(!r)throw new Error("Ups, I can't find the target ".concat(n,"."));t.appendChild(r),t.setAttribute("data-type","html")},onPreload:function(e){},onLoad:function(e){var t=e.querySelector("video");t&&(t.hasAttribute("data-time")&&t.readyState>0&&(t.currentTime=t.getAttribute("data-time")),a.autoplayVideo&&t.play())},onLeave:function(e){var t=e.querySelector("video");t&&(t.paused||t.pause(),t.readyState>0&&t.setAttribute("data-time",t.currentTime))},onCleanup:function(e){var t=e.querySelector("video");if(t&&t.readyState>0&&t.readyState<3&&t.duration!==t.currentTime){var n=t.cloneNode(!0);ae(t),t.load(),t.parentNode.removeChild(t),e.appendChild(n)}}},iframe:{checkSupport:function(e){return oe(e,"iframe")},init:function(e,t){var n=document.createElement("iframe"),r=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target");n.setAttribute("frameborder","0"),n.setAttribute("src",""),n.setAttribute("data-src",r),e.getAttribute("data-width")&&(n.style.maxWidth="".concat(e.getAttribute("data-width"),"px")),e.getAttribute("data-height")&&(n.style.maxHeight="".concat(e.getAttribute("data-height"),"px")),t.appendChild(n),t.setAttribute("data-type","iframe")},onPreload:function(e){},onLoad:function(e){var t=e.querySelector("iframe");t.setAttribute("src",t.getAttribute("data-src"))},onLeave:function(e){},onCleanup:function(e){}},youtube:{checkSupport:function(e){return oe(e,"youtube")},init:function(e,t){var n=document.createElement("div");t.appendChild(n),o[E]=new window.YT.Player(n,{host:"https://www.youtube-nocookie.com",height:e.getAttribute("data-height")||"360",width:e.getAttribute("data-width")||"640",videoId:e.getAttribute("data-id"),playerVars:{controls:e.getAttribute("data-controls")||1,rel:0,playsinline:1}}),t.setAttribute("data-player",E),t.setAttribute("data-type","youtube"),E++},onPreload:function(e){},onLoad:function(e){a.autoplayVideo&&o[e.getAttribute("data-player")].playVideo()},onLeave:function(e){1===o[e.getAttribute("data-player")].getPlayerState()&&o[e.getAttribute("data-player")].pauseVideo()},onCleanup:function(e){1===o[e.getAttribute("data-player")].getPlayerState()&&o[e.getAttribute("data-player")].pauseVideo()}}},_=function(e){if(null===document.querySelector('[data-type="youtube"]')||x)I(e);else{if(null===document.getElementById("iframe_api")){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.id="iframe_api",t.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(t,n)}-1===r.indexOf(e)&&r.push(e),window.onYouTubePlayerAPIReady=function(){r.forEach((function(e){I(e)})),x=!0}}},C=function(e){return e.hasAttribute("data-group")?e.getAttribute("data-group"):"default"},I=function(e){var t;if(L=C(e),Object.prototype.hasOwnProperty.call(A,L)||(A[L]=(t=i,JSON.parse(JSON.stringify(t))),j()),-1!==A[L].gallery.indexOf(e))throw new Error("Ups, element already added.");if(A[L].gallery.push(e),A[L].elementsLength++,a.zoom&&e.querySelector("img")){var n=document.createElement("div");n.className="tobii-zoom__icon",n.innerHTML=a.zoomText,e.classList.add("tobii-zoom"),e.appendChild(n)}e.addEventListener("click",G),k(e),se()&&L===S&&(ce(),ue())},T=function(e){var t=C(e);if(-1===A[t].gallery.indexOf(e))throw new Error("Ups, I can't find a slide for the element ".concat(e,"."));var n=A[t].gallery.indexOf(e),r=A[t].sliderElements[n];if(se()&&t===S&&n===A[t].currentIndex){if(1===A[t].elementsLength)throw N(),new Error("Ups, I've closed. There are no slides more to show.");0===A[t].currentIndex?q():U()}if(A[t].elementsLength--,a.zoom&&e.querySelector(".tobii-zoom__icon")){var i=e.querySelector(".tobii-zoom__icon");i.parentNode.classList.remove("tobii-zoom"),i.parentNode.removeChild(i)}e.removeEventListener("click",G),r.parentNode.removeChild(r)},P=function(){(u=document.createElement("div")).setAttribute("role","dialog"),u.setAttribute("aria-hidden","true"),u.classList.add("tobii"),u.classList.add(a.theme),(l=document.createElement("button")).className="tobii__btn tobii__btn--previous",l.setAttribute("type","button"),l.setAttribute("aria-label",a.navLabel[0]),l.innerHTML=a.navText[0],u.appendChild(l),(s=document.createElement("button")).className="tobii__btn tobii__btn--next",s.setAttribute("type","button"),s.setAttribute("aria-label",a.navLabel[1]),s.innerHTML=a.navText[1],u.appendChild(s),(d=document.createElement("button")).className="tobii__btn tobii__btn--close",d.setAttribute("type","button"),d.setAttribute("aria-label",a.closeLabel),d.innerHTML=a.closeText,u.appendChild(d),(f=document.createElement("div")).className="tobii__counter",u.appendChild(f),document.body.appendChild(u)},j=function(){A[L].slider=document.createElement("div"),A[L].slider.className="tobii__slider",A[L].slider.setAttribute("aria-hidden","true"),u.appendChild(A[L].slider)},k=function(e){for(var t in O)if(Object.prototype.hasOwnProperty.call(O,t)&&O[t].checkSupport(e)){var n=document.createElement("div"),r=document.createElement("div");n.className="tobii__slide",n.style.position="absolute",n.style.left="".concat(100*A[L].x,"%"),n.setAttribute("aria-hidden","true"),O[t].init(e,r),n.appendChild(r),A[L].slider.appendChild(n),A[L].sliderElements.push(n),++A[L].x;break}},M=function(e){if(S=null!==S?S:L,se())throw new Error("Ups, I'm aleady open.");if(!se()&&(e||(e=0),-1===e||e>=A[S].elementsLength))throw new Error("Ups, I can't find slide ".concat(e,"."));a.hideScrollbar&&(document.documentElement.classList.add("tobii-is-open"),document.body.classList.add("tobii-is-open")),ce(),a.close||(d.disabled=!1,d.setAttribute("aria-hidden","true")),g=document.activeElement;var t=window.location.href;window.history.pushState({tobii:"close"},"Image",t),A[S].currentIndex=e,V(),re(),D(A[S].currentIndex),A[S].slider.setAttribute("aria-hidden","false"),u.setAttribute("aria-hidden","false"),ue(),R(A[S].currentIndex+1),R(A[S].currentIndex-1),setTimeout((function(){A[S].slider.classList.add("tobii__slider--animate")}),1e3);var n=new window.CustomEvent("open");u.dispatchEvent(n)},N=function(){if(!se())throw new Error("Ups, I'm already closed.");a.hideScrollbar&&(document.documentElement.classList.remove("tobii-is-open"),document.body.classList.remove("tobii-is-open")),ie(),null!==window.history.state&&"close"===window.history.state.tobii&&window.history.back(),g.focus(),Y(A[S].currentIndex),X(A[S].currentIndex),u.setAttribute("aria-hidden","true"),A[S].slider.setAttribute("aria-hidden","true"),A[S].currentIndex=0,A[S].slider.classList.remove("tobii__slider--animate")},R=function(e){if(void 0!==A[S].sliderElements[e]){var t=A[S].sliderElements[e].querySelector("[data-type]"),n=t.getAttribute("data-type");O[n].onPreload(t)}},D=function(e){if(void 0!==A[S].sliderElements[e]){var t=A[S].sliderElements[e].querySelector("[data-type]"),n=t.getAttribute("data-type");A[S].sliderElements[e].classList.add("tobii__slide--is-active"),A[S].sliderElements[e].setAttribute("aria-hidden","false"),O[n].onLoad(t)}},U=function(){if(!se())throw new Error("Ups, I'm closed.");A[S].currentIndex>0&&(Y(A[S].currentIndex),D(--A[S].currentIndex),ue("left"),X(A[S].currentIndex+1),R(A[S].currentIndex-1));var e=new window.CustomEvent("previous");u.dispatchEvent(e)},q=function(){if(!se())throw new Error("Ups, I'm closed.");A[S].currentIndex<A[S].elementsLength-1&&(Y(A[S].currentIndex),D(++A[S].currentIndex),ue("right"),X(A[S].currentIndex-1),R(A[S].currentIndex+1));var e=new window.CustomEvent("next");u.dispatchEvent(e)},Y=function(e){if(void 0!==A[S].sliderElements[e]){var t=A[S].sliderElements[e].querySelector("[data-type]"),n=t.getAttribute("data-type");A[S].sliderElements[e].classList.remove("tobii__slide--is-active"),A[S].sliderElements[e].setAttribute("aria-hidden","true"),O[n].onLeave(t)}},X=function(e){if(void 0!==A[S].sliderElements[e]){var t=A[S].sliderElements[e].querySelector("[data-type]"),n=t.getAttribute("data-type");O[n].onCleanup(t)}},z=function(){m=-A[S=null!==S?S:L].currentIndex*u.offsetWidth,A[S].slider.style.transform="translate3d(".concat(m,"px, 0, 0)"),y=m},V=function(){p={startX:0,endX:0,startY:0,endY:0}},H=function(){var e=p.endX-p.startX,t=p.endY-p.startY,n=Math.abs(e),r=Math.abs(t);e>0&&n>a.threshold&&A[S].currentIndex>0?U():e<0&&n>a.threshold&&A[S].currentIndex!==A[S].elementsLength-1?q():t<0&&r>a.threshold&&a.swipeClose?N():z()},B=function(){w||(w=!0,window.requestAnimationFrame((function(){z(),w=!1})))},G=function(e){e.preventDefault(),S=C(e.currentTarget),M(A[S].gallery.indexOf(e.currentTarget))},F=function(e){e.target===l?U():e.target===s?q():(e.target===d||!1===h&&!1===b&&e.target.classList.contains("tobii__slide")&&a.docClose)&&N(),e.stopPropagation()},$=function(e){var t=Array.prototype.slice.call(u.querySelectorAll(".tobii__btn:not([disabled]), .tobii__slide--is-active + ".concat(n.join(", .tobii__slide--is-active ")))).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})),r=t.indexOf(document.activeElement);9===e.keyCode||"Tab"===e.code?e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault()):27===e.keyCode||"Escape"===e.code?(e.preventDefault(),N()):37===e.keyCode||"ArrowLeft"===e.code?(e.preventDefault(),U()):39!==e.keyCode&&"ArrowRight"!==e.code||(e.preventDefault(),q())},K=function(e){fe(e.target)||(e.stopPropagation(),h=!1,b=!1,v=!0,p.startX=e.touches[0].pageX,p.startY=e.touches[0].pageY,A[S].slider.classList.add("tobii__slider--is-dragging"))},W=function(e){e.stopPropagation(),v&&(e.preventDefault(),p.endX=e.touches[0].pageX,p.endY=e.touches[0].pageY,ne())},J=function(e){e.stopPropagation(),v=!1,A[S].slider.classList.remove("tobii__slider--is-dragging"),p.endX&&H(),V()},Q=function(e){fe(e.target)||(e.preventDefault(),e.stopPropagation(),h=!1,b=!1,v=!0,p.startX=e.pageX,p.startY=e.pageY,A[S].slider.classList.add("tobii__slider--is-dragging"))},Z=function(e){e.preventDefault(),v&&(p.endX=e.pageX,p.endY=e.pageY,ne())},ee=function(e){e.stopPropagation(),v=!1,A[S].slider.classList.remove("tobii__slider--is-dragging"),p.endX&&H(),V()},te=function(){v=!1},ne=function(){Math.abs(p.startX-p.endX)>0&&!b&&A[S].elementsLength>1?(A[S].slider.style.transform="translate3d(".concat(y-Math.round(p.startX-p.endX),"px, 0, 0)"),h=!0,b=!1):Math.abs(p.startY-p.endY)>0&&!h&&a.swipeClose&&(A[S].slider.style.transform="translate3d(".concat(y,"px, -").concat(Math.round(p.startY-p.endY),"px, 0)"),h=!1,b=!0)},re=function(){a.keyboard&&window.addEventListener("keydown",$),window.addEventListener("resize",B),window.addEventListener("popstate",N),u.addEventListener("click",F),a.draggable&&(de()&&(u.addEventListener("touchstart",K),u.addEventListener("touchmove",W),u.addEventListener("touchend",J)),u.addEventListener("mousedown",Q),u.addEventListener("mouseup",ee),u.addEventListener("mousemove",Z),u.addEventListener("contextmenu",te))},ie=function(){a.keyboard&&window.removeEventListener("keydown",$),window.removeEventListener("resize",B),window.removeEventListener("popstate",N),u.removeEventListener("click",F),a.draggable&&(de()&&(u.removeEventListener("touchstart",K),u.removeEventListener("touchmove",W),u.removeEventListener("touchend",J)),u.removeEventListener("mousedown",Q),u.removeEventListener("mouseup",ee),u.removeEventListener("mousemove",Z),u.removeEventListener("contextmenu",te))},oe=function(e,t){return e.getAttribute("data-type")===t},ae=function(e){var t=e.querySelectorAll("src");t&&t.forEach((function(e){e.setAttribute("src","")}))},ce=function(){(a.draggable&&a.swipeClose&&!A[S].slider.classList.contains("tobii__slider--is-draggable")||a.draggable&&A[S].elementsLength>1&&!A[S].slider.classList.contains("tobii__slider--is-draggable"))&&A[S].slider.classList.add("tobii__slider--is-draggable"),!a.nav||1===A[S].elementsLength||"auto"===a.nav&&de()?(l.setAttribute("aria-hidden","true"),l.disabled=!0,s.setAttribute("aria-hidden","true"),s.disabled=!0):(l.setAttribute("aria-hidden","false"),l.disabled=!1,s.setAttribute("aria-hidden","false"),s.disabled=!1),a.counter&&1!==A[S].elementsLength?f.setAttribute("aria-hidden","false"):f.setAttribute("aria-hidden","true")},ue=function(e){z(),f.textContent="".concat(A[S].currentIndex+1,"/").concat(A[S].elementsLength),function(e){(!0===a.nav||"auto"===a.nav)&&!de()&&A[S].elementsLength>1?(l.setAttribute("aria-hidden","true"),l.disabled=!0,s.setAttribute("aria-hidden","true"),s.disabled=!0,1===A[S].elementsLength?a.close&&d.focus():0===A[S].currentIndex?(s.setAttribute("aria-hidden","false"),s.disabled=!1,s.focus()):A[S].currentIndex===A[S].elementsLength-1?(l.setAttribute("aria-hidden","false"),l.disabled=!1,l.focus()):(l.setAttribute("aria-hidden","false"),l.disabled=!1,s.setAttribute("aria-hidden","false"),s.disabled=!1,"left"===e?l.focus():s.focus())):a.close&&d.focus()}(e)},le=function(){se()&&N(),Object.entries(A).forEach((function(e){e[1].gallery.forEach((function(e){T(e)}))})),A={},L=S=null,c=0},se=function(){return"false"===u.getAttribute("aria-hidden")},de=function(){return"ontouchstart"in window},fe=function(e){return-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.nodeName)||e===l||e===s||e===d};return function(e){a=function(e){return an(an({},{selector:".lightbox",captions:!0,captionsSelector:"img",captionAttribute:"alt",captionText:null,nav:"auto",navText:['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18" /></svg>','<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="9 6 15 12 9 18" /></svg>'],navLabel:["Previous image","Next image"],close:!0,closeText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><line x1="18" y1="6" x2="6" y2="18" /><line x1="6" y1="6" x2="18" y2="18" /></svg>',closeLabel:"Close lightbox",loadingIndicatorLabel:"Image loading",counter:!0,download:!1,downloadText:"",downloadLabel:"Download image",keyboard:!0,zoom:!0,zoomText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="16 4 20 4 20 8" /><line x1="14" y1="10" x2="20" y2="4" /><polyline points="8 20 4 20 4 16" /><line x1="4" y1="20" x2="10" y2="14" /><polyline points="16 20 20 20 20 16" /><line x1="14" y1="14" x2="20" y2="20" /><polyline points="8 4 4 4 4 8" /><line x1="4" y1="4" x2="10" y2="10" /></svg>',docClose:!0,swipeClose:!0,hideScrollbar:!0,draggable:!0,threshold:100,rtl:!1,loop:!1,autoplayVideo:!1,modal:!1,theme:"tobii--theme-default"}),e)}(e),u||P();var t=document.querySelectorAll(a.selector);if(!t)throw new Error("Ups, I can't find the selector ".concat(a.selector," on this website."));t.forEach((function(e){_(e)}))}(t),e.open=M,e.previous=U,e.next=q,e.close=N,e.add=_,e.remove=T,e.reset=le,e.destroy=function(){le(),u.parentNode.removeChild(u)},e.isOpen=se,e.slidesIndex=function(){return A[S].currentIndex},e.select=function(e){var t=A[S].currentIndex;if(!se())throw new Error("Ups, I'm closed.");if(se()){if(!e&&0!==e)throw new Error("Ups, no slide specified.");if(e===A[S].currentIndex)throw new Error("Ups, slide ".concat(e," is already selected."));if(-1===e||e>=A[S].elementsLength)throw new Error("Ups, I can't find slide ".concat(e,"."))}A[S].currentIndex=e,Y(t),D(e),e<t&&(ue("left"),X(t),R(e-1)),e>t&&(ue("right"),X(t),R(e+1))},e.slidesCount=function(){return A[S].elementsLength},e.selectGroup=function(e){if(se())throw new Error("Ups, I'm open.");if(!e)throw new Error("Ups, no group specified.");if(e&&!Object.prototype.hasOwnProperty.call(A,e))throw new Error("Ups, I don't have a group called \"".concat(e,'".'));S=e},e.currentGroup=function(){return null!==S?S:L},e.on=function(e,t){u.addEventListener(e,t)},e.off=function(e,t){u.removeEventListener(e,t)},e}}));
